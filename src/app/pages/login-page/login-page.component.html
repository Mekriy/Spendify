<div class="parent">
  <div class="maincontent">
    <p-toast></p-toast>
    <div class="logo">
      <h1>Spendify</h1>
    </div>
    <form [formGroup]="loginForm" (ngSubmit)="onSubmit()">
      <div class="login">
        <div class="back-home">
          <p-button [outlined]="true" icon="pi pi-arrow-left" (onClick)="backToHomePage()"></p-button>
        </div>
        <div class="title">
          Login
        </div>
        <div class="inputs">
          <span class="p-float-label">
            <input pInputText id="email" type="email" formControlName="email"/>
            <label for="email">Email</label>
          </span>
          <span class="p-float-label">
            <input pInputText id="password" type="password" formControlName="password"/>
            <label for="password">Password</label>
          </span>
        </div>
        <div class="button">
          <a class="button-link" (click)="sendResetCode()">Forgot password?</a>
          <button pButton icon="pi pi-sign-in" type="submit" label="Login" [disabled]="(!loginForm.valid) || loginButtonLock"></button>
        </div>
      </div>
      <div *ngIf="showSpinner" class="login overlay">
        <p-progressSpinner [style]="{width: '100px', height: '100px'}" strokeWidth="5" ariaLabel="loading"></p-progressSpinner>
      </div>
    </form>
    <p-dialog [(visible)]="showForgotDialog" [style]="{ width: '500px' }" [modal]="true" [draggable]="false" header="Forgot password">
      <p>Please type your email so we can send reset code email to you...</p>
      <div class="dialog">
        <form [formGroup]="forgotPasswordForm" (ngSubmit)="onUpdate($event)">
            <span class="p-float-label">
                <input pInputText formControlName="email" />
                <label>Email</label>
              </span>
          <p-button type="submit" label="Send" icon="pi pi-send"></p-button>
        </form>
      </div>
    </p-dialog>
  </div>
</div>
